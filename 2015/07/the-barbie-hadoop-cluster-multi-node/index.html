<!DOCTYPE html><html lang="en"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>The Barbie Hadoop Cluster (Multi-Node Cluster) | opus.stedden</title><meta name="description" content="just your standard information identity spacetime field"><meta itemprop="name" content="will stedden"><meta itemprop="description" content="just your standard information identity spacetime field"><meta itemprop="image" content="http://2.bp.blogspot.com/-XGwAxKreBtw/VbWKR9SptdI/AAAAAAAAEHU/FgdjpgyQkKM/CAM00240.jpg"><meta property="og:url" content="https://opus.stedden.org/2015/07/the-barbie-hadoop-cluster-multi-node/"><meta property="og:type" content="website"><meta property="og:title" content="The Barbie Hadoop Cluster (Multi-Node Cluster) | opus.stedden"><meta property="og:site_name" content="opus.stedden"><meta property="og:description" content="just your standard information identity spacetime field"><meta property="og:image" content="http://2.bp.blogspot.com/-XGwAxKreBtw/VbWKR9SptdI/AAAAAAAAEHU/FgdjpgyQkKM/CAM00240.jpg"><meta property="twitter:url" content="https://opus.stedden.org/2015/07/the-barbie-hadoop-cluster-multi-node/"><meta property="twitter:card" content="summary_large_image"/><meta property="twitter:title" content="The Barbie Hadoop Cluster (Multi-Node Cluster) | opus.stedden"><meta property="twitter:site" content="opus.stedden"><meta property="twitter:description" content="just your standard information identity spacetime field"><meta property="twitter:image" content="http://2.bp.blogspot.com/-XGwAxKreBtw/VbWKR9SptdI/AAAAAAAAEHU/FgdjpgyQkKM/CAM00240.jpg"><link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico"><link rel="stylesheet" href="/assets/css/app.min.css"><link rel="alternate" type="application/rss+xml" title="opus.stedden" href="/feed.xml"><link rel="canonical" href="/2015/07/the-barbie-hadoop-cluster-multi-node/"><link href="https://fonts.googleapis.com/css?family=Exo" rel="stylesheet"><link rel="webmention" href="https://webmention.io/bonkerfield.org/webmention" /><link rel="pingback" href="https://webmention.io/bonkerfield.org/xmlrpc" /> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-132451521-2"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-132451521-2'); </script><link href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css' rel='stylesheet'/></head><body id="the-barbie-hadoop-cluster-multi-node-cluster" class="post-layout"><header class="header"> <span><a class="header__title" href="/">opus.stedden</a></span><nav><ul class="header__list"><li><a href="/fiction">fiction</a></li><li><a href="/projects">projects</a></li><li><a href="/essays">essays</a></li><li><a href="/reasons">about</a></li><li><a href="https://will.stedden.org/">contact</a></li><li><a href="/search"><i class="fa fa-search"></i></a></li></ul></nav></header><a style="display:none;" class="p-author h-card" href="http://will.stedden.org"> <img alt="" src="/assets/images/main/face_prof.jpg"/> will stedden</a><main class="bonk"><div class="post"><article class="h-entry" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting"><div class="post__header section-padding-half"><div class="grid-small"><h2 itemprop="name headline p-name">The Barbie Hadoop Cluster (Multi-Node Cluster)</h2><time class="post__date dt-published" datetime="2015-07-26T00:00:00-05:00" itemprop="datePublished">2015·07·26</time> <span class="post__author"> | <a class="p-name u-url" href="http://will.stedden.org" title="about">will stedden</a> </span><p class="post__description p-summary"></p><a class="u-url" style="display:none;" href="https://opus.stedden.org/2015/07/the-barbie-hadoop-cluster-multi-node/"></a></div></div><div class="post__content section-padding"><div class="grid"><div class="e-content" id="markdown" itemprop="articleBody"><p> I've finally finished the Barbie Hadoop Cluster! It's been several months since I <a href="/2015/01/the-barbie-hadoop-cluster-stage-1.html">started the project</a>, but after the hiatus I was ready to come back and get it finished.</p><img border="0" src="http://2.bp.blogspot.com/-XGwAxKreBtw/VbWKR9SptdI/AAAAAAAAEHU/FgdjpgyQkKM/s1600/CAM00240.jpg" title=" "/><p> Due to space limitations in our apartment, the stack of 9 Dell PCs is also being used as a TV/monitor stand. They're connected through a switch and all the extra ports on my roouter at the moment. Hopefully at <a href="http://www.artificechicago.org/">her permanent home</a>, Barbie will look a little more at ease.</p><h4>Setting Barbie Up</h4><p> The beginning of the procedure for the setup is basically exactly the same as I described in my <a href="http://www.makeloft.org/2015/01/the-barbie-hadoop-cluster-stage-1.html">previous post</a>, except for a change in the configuration files in the <a href="https://github.com/lots-of-things/hadoop-compiled">associated github project</a>. Pretty much the entirety of the hadoop setup on each computer was accomplished simply with the folowing command.<p><pre><br/>sudo git clone https://github.com/lots-of-things/hadoop-compiled.git /usr/local/hadoop<br/></pre><p> This is followed by changing permissions and adding a few directories to the $PATH by modifiying .bashrc.<p><pre><br/>sudo chown -R doopy:hadoop /usr/local/hadoop<br/>cat /usr/local/addToBash &gt;&gt; ~/.bashrc<br/></pre><p> This had to be done on each of the seven working machines. They each had different RAM and hard disk amounts, with skipper and stacie being the best and barbie and ken being the worst.</p><img border="0" src="http://3.bp.blogspot.com/-qNgeAOJanSY/VbWUclEdoeI/AAAAAAAAEHw/WLnnP2yBb70/s1600/CAM00241.png" title=" "/><p> I changed the /etc/hosts on every machine so that each machine could recognize each other by name.</p><pre><br/>10.0.0.9        barbie<br/>10.0.0.10       kelly<br/>10.0.0.13       skipper<br/>10.0.0.14       stacie<br/>10.0.0.16       ken<br/>10.0.0.17       christie<br/>10.0.0.18       midge<br/></pre><p> I decided to make skipper the master, Each machine needs to let the master connect by ssh without a password so I copied Skipper's rsa key made in the initial setup using</p><pre><br/>ssh-copy-id -i ~/.ssh/id_rsa.pub remote-host<br/></pre><p> Where remote-host had to be changed to every machine I wanted to connect to. Finally, skipper's slaves file (etc/hadoop/slaves) needed to have each machine added to it (including herself so she would do some work too instead of just running as the NameNode).</p><pre><br/>barbie<br/>kelly<br/>skipper<br/>stacie<br/>ken<br/>christie<br/>midge<br/></pre><h4>In all honesty...</h4><p> I screwed this up about a dozen times before getting it to work, but every mistake was something well-documented with solutions on the web. The best trick I learned was to delete the datanode temporary file on each machine whenever I screwed things up. In my setup that would be done like this.</p><pre><br/>rm -r /usr/local/hadoop/datanode<br/></pre><h4>And Finally</h4><p> I was finally able to load a few documents into the hdfs and run the wordcount on them across all machines. Overall, I feel extremely satisfied getting this done finally (though I've got a much more <a href="http://spark.apache.org/">sophisticated system</a> at my disposal at the cluster <a href="https://rcc.uchicago.edu/">where I work</a>). Now I'm just getting ready to try it out on one of my pet projects!</p><br/></p></p></p></p></div></div></div></article></div><section class="related section-padding"><div class="grid-xlarge"><h2 class="related__title">Related</h2><div class="related__container"><article class="related__post"> <a class="related__link" href="https://opus.stedden.org/2025/02/solar-pv-map-detection/"><figure class="related__img"> <img src="assets/images/2025/solarscan_app2.png" alt="Detecting Solar Panels from Satellite Imagery" /></figure><div><h2 class="related__text">Detecting Solar Panels from Satellite Imagery</h2></div></a></article><article class="related__post"> <a class="related__link" href="https://opus.stedden.org/2024/08/madison-housing-data/"><figure class="related__img"> <img src="assets/images/2024/madison_house_prices.png" alt="Analyzing Housing Data in Madison" /></figure><div><h2 class="related__text">Analyzing Housing Data in Madison</h2></div></a></article><article class="related__post"> <a class="related__link" href="https://opus.stedden.org/2023/05/fedi-watch-demo/"><figure class="related__img"> <img src="/assets/images/2023/fediwatch_2.png" alt="FEDI-WATCH demo" /></figure><div><h2 class="related__text">FEDI-WATCH demo</h2></div></a></article></div></div></section></main><footer class="footer section-padding"><div class="grid"><div class="subscribe" id="subscribe"><div class="subscribe__container"> <span class="subscribe__title">Subscribe</span><p class="subscribe__text">Get an update when I post new content.</p><form method="POST" action="https://bonkerfield.us4.list-manage.com/subscribe/post-json?u=68d1146ea8fe327def203f254&amp;id=e88ba623c5&amp;c=?" id="mc-signup" name="mc-embedded-subscribe-form" novalidate><div style="position: absolute; left: -5000px;" aria-hidden="true"> <input type="text" name="b_68d1146ea8fe327def203f254_e88ba623c5" tabindex="-1" value=""></div><div class="form-group"> <input id="mce-EMAIL" type="email" name="EMAIL" placeholder="Email Address"></div><div class="form__btn"> <input id="mc-submit" type="submit" value="Sign Up" name="subscribe"></div></form><p class="subscribe__error hidden"></p></div></div><hr class="sep--white"/><div class="footer__container"><ul class="footer__social"><li><a href="https://sigmoid.social/@bonkerfield" rel="me" target="_blank"><i class="fab fa-mastodon"></i></a></li><li><a href="https://www.linkedin.com/in/willstedden" rel="me" target="_blank"><i class="fab fa-linkedin"></i></a></li><li><a href="https://github.com/stedn" rel="me" target="_blank"><i class="fab fa-github"></i></a></li><li><a href="https://www.reddit.com/user/bonkerfield" rel="me" target="_blank"><i class="fab fa-reddit-alien"></i></a></li></ul><div class="posts__pagination"> <span>This site is maintained by <a href="https://will.stedden.org">Will Stedden</a>. All content on this blog is free to use under a creative commons <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a> license</span>. The thoughts behind this content may be used under the terms of Will's <a href="https://will.stedden.org/lisens">'lisens'</a>.</div></div></div></footer><script src="/assets/js/app.min.js"></script> <script> (function() { var links = document.getElementsByTagName('a'); for (var i = 0; i < links.length; i++) { if (/^(http?:)?\/\//.test(links[i].getAttribute('href'))) { links[i].target = '_blank'; } } })(); </script></body></html>
  