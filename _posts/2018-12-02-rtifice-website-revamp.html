---
layout: post
title: "@rtifice Website Revamp"
date: '2018-12-02'
author: will stedden
tags:
- design
- code
- infra
image: https://2.bp.blogspot.com/-k7IGUdP6QFE/XJGdGWRt_0I/AAAAAAAADkQ/NBd_jknvCxcIo_HMZqkWvSGYNu1GdkfSgCLcBGAs/Screen%2BShot%2B2019-03-19%2Bat%2B6.52.54%2BPM.png
---

<p>
    A few months ago, a non-profit I volunteer for <a href="http://www.artificechicago.org/">@rtifice tech education</a>, needed to get its digital face revamped. I spent a few weeks working on a full website and blog revamping.
</p>
<h4>Page loads and information</h4>
<p>
    There were two main problems with the non-profit's web presence. First off, the website looked totally amateur and was filled with out of date information. This is, of course, completely normal for most non-profits, but it wasn't a great face for an after-school computer coding program. The second problem was that the blog was really slow to load. It was implemented with a very hacky <a href="https://www.blogger.com/">Blogger template</a>, which also looked pretty unprofessional. For that one, I have to take <a href="https://www.makeloft.org/">full responsibility</a>.
</p>
<h4>Website update</h4>
<img border="0" src="https://4.bp.blogspot.com/-T5rzXljjES0/XJGa9Tz3GBI/AAAAAAAADj8/sTYEihTjRjwyqL62S6rAgsV4VfgVpHy9ACLcBGAs/s1600/Screen%2BShot%2B2019-03-19%2Bat%2B6.43.16%2BPM.png" title=" "/>
<p>
    The former admins had switched the whole codebase to reside in <a href="https://pages.github.com/">Github Pages</a>, so I could easily make updates and we all could review remotely. Much simpler than the old days of SCPing your code onto a server somewhere.
</p>
<h6>Jekyll</h6>
Originally, the admins had been using totally static pages. I could have kept the same, but I've found that whenever there are changes to things in the nav menu, people (including me) inevitably forget to update them across all pages. That makes for an impossible navigation experience as users try to get to places that can only be gotten to from 1 of your pages.

<p>
    Instead, I decided to switch to using a <a href="https://talk.jekyllrb.com/t/jekyll-theme-showcase-share-your-jekyll-themes/1382">jekyll template</a>, which would allow me to make site wide edits in one location. I based it on a template from a company called <a href="https://cloudcannon.com/">CloudCannon</a> that released their template for open reuse with modification.
</p>
<p>
    I was really happy with the main landing page. It used a lot of images, but also had good space for us to put our mission front and center.
</p>
<img border="0" src="https://1.bp.blogspot.com/-r0jFvaC6-r4/XJGesiq_z0I/AAAAAAAADkc/ec5uwUML5boZa8QxCwEY-vRgyVsIuWU1wCLcBGAs/s1600/Screen%2BShot%2B2019-03-19%2Bat%2B6.52.54%2BPM.png" title=" "/>
<p>
    I also added two additional pages that were mostly implemented in the template already. One was a community page that allows us to show how many amazing people work together to make our projects happen. The second was a lightweight CMS for big news in the organization. That was really cool to write up the little blurbs about all the big milestones we'd had over the years.
</p>
<img border="0" src="https://3.bp.blogspot.com/-kkWs6Wbl7_s/XH39Jlnl6gI/AAAAAAAADfM/KJSlazp3KWApuxdPPHm3CbhIsnQdU8DLACLcBGAs/s800/Screen%2BShot%2B2019-03-04%2Bat%2B8.34.14%2BPM.png" title=" "/>
<p>
    These were all relatively minor stylistic changes. It took a lot to design the flow of the website and figure out what content to surface, but the engineering challenges were minor. The main technical improvement came on the class signup page.
</p>
<h6>Class Signup</h6>
<p>
    The coolest new feature that I built was the ability to signup for classes on the website. On the old site, I'd added a page to add donations using Paypal's built in <a href="https://www.paypal.com/donate/buttons">donate button feature</a>. Then when we needed to pay for classes we just directed them there and had them set the payment amount as their donation. I was pretty ashamed of how hacky that made the organization look.
</p>
<img border="0" src="https://2.bp.blogspot.com/-YhOAUkfBfqM/XJGaf1G4esI/AAAAAAAADjw/Fi9T3hPK7ZABL-rBzg29Cff3ykJS49IEgCLcBGAs/s1600/Screen%2BShot%2B2019-03-19%2Bat%2B6.41.59%2BPM.png" title=" "/>
<div style="text-align:center">That was totally lame.</div>
<p>
    So for this update, I wanted to make a clean form that allowed people to sign-up before being sent to a legitimate paypal payment page. It was technically very interesting because I had to do all of this without using a true database. So the record keeping had to be done entirely on the frontend with javascript, without any backend code.
</p>
<p>
    To do this, I actually hijacked Google Forms, using some <a href="https://blog.webjeda.com/google-form-customize/">incredibly insightful info</a> that I found from <a href="https://twitter.com/webjeda">webjeda</a>. Basically, google's forms are just basic webforms, but they try to obfuscate a few fields, making it difficult to just create any customization of style. But if you figure out the real names of the form fields, you can simply make your form submit those fields to Google's backend. It's pretty brilliant.
</p>
<p>
    The second big hurdle
</p>
<img border="0" src="https://4.bp.blogspot.com/-esXp14lfrSE/XH389MIrasI/AAAAAAAADe8/wpH2vTZLjSg4BFssO3W3SM4JCBBnP25xwCLcBGAs/s1600/Screen%2BShot%2B2019-03-04%2Bat%2B8.35.45%2BPM.png" title=" "/>
<p>
    I described all of our in-class programs in detail. And built CTAs (Calls to Action), that hopefully helped people see what they needed to do. Obviously, a more thoughtful designer to make improvements, but I worked with what I had here.
</p>
<img border="0" src="https://1.bp.blogspot.com/-Hl8aAgIXbRo/XH389AYtqFI/AAAAAAAADe4/JjhKVoLosNAVlkZOdpkW4eh487CuwjzogCLcBGAs/s1600/Screen%2BShot%2B2019-03-04%2Bat%2B8.35.58%2BPM.png" title=" "/>
<p>
    But the real mindf**k came when I tried to combine this off-label usage of Google Forms with another off-label usage of Paypal form submission. And to do something that you aren't supposed to be able to do with HTML at all: use the same form fields in multiple form submissions! (The things that get me excited, I tell you.)
</p>
<p>
    I found <a href="https://blog.webjeda.com/google-form-customize/">this writeup</a> on how to customize Google Forms along with piecing together a few <a href="https://pressupinc.com/blog/2014/03/easy-hacks-paypal-purchase-buttons/">examples</a> of hacking Paypal buttons into forms. Check out <a href="https://github.com/artificechicago/artificechicago.github.io/blob/master/enroll.html">the code</a> for more detail, but basically I overrode the generic form submission to allow the forms to swap info back and forth between submissions.
</p>
<h6>the gory details</h6>
<p>
    The only way to make the submit occur from another form is for the submit button on the main form to be hidden, and to have it's label actually function as the button on another form.
</p>
<p>
    This line hides the submit button on the main (Google) form
</p>
<pre><br/>&lt;input type="submit" id="submit-form" style="display:none;" value="Enroll In Course" /&gt;<br/></pre>
<p>
    Then here, I add the label to the second (Paypal) form with the <bold>for</bold> keyword referencing it back to the submit button for Google.
</p>
<pre><br/>&lt;label id="enroll_button" class="special_button" for="submit-form" tabindex="0"&gt;Enroll In Course&lt;/label&gt;<br/></pre>
<p>
    Everything in the Paypal form is actually hidden so that form just grabs a bit of info from the other form using javascript jQuery and passes it on (securely) to the Paypal authentication site. The code below is run because the forms submit action is overridden to run a custom function:
</p>
<pre>onsubmit="submitPay()"</pre>
<pre><br/>function submitPay() {<br/>    $( "#name_paypal" ).val( $( "#name" ).val() );<br/>    $( "#paypal_return" ).val( "http://www.artificechicago.org/enroll/?transaction=" + $( "#secret_paypal" ).val() );<br/>    $( "#paypal_opened" ).val( 'Yes' );<br/>    $( "#enroll_button").css('background-color','#4182e4');<br/>    $( "#paypal_button").css('background-color','rgba(120,120,120,.5)');<br/>}<br/></pre>
<p>
    And after finishing on Paypal the user just returns to submit the Google form and it will include the payment confirmation info automatically.
</p>
<p>
    I won't explain too much more because this is kind of mildly vulnerable to exploitation (though don't worry not in terms of any payment information leaking*). Basically the paypal and google forms pass some confirmation numbers back and forth so that the <a href="https://www.linkedin.com/in/clairestedden/">Treasurer</a> can confirm the transactions went through in the account.
</p>
<p>
    Overall, the new main site is much more user friendly and professional.
</p>
<br/><br/>
<h4>Blog update</h4>
<img border="0" src="https://2.bp.blogspot.com/-LUhhb2Fqz7A/XJGbdRNBFDI/AAAAAAAADkE/aLNdA8uTEo4GZ4BhITRuSUO2ymNCuNJggCLcBGAs/s1600/Screen%2BShot%2B2019-03-19%2Bat%2B6.46.01%2BPM.png" title=" "/>
<p>
    The blog update was less interesting because it was similar to things I had done before. I simply nabbed a free-to-use template from <a href="https://www.templateism.com/">Templateism</a>, and started making my own tweaks.
</p>
<p>
    I did spend a good bit of time trying to think of the best way to make the info on the website explorable too though. I made a few easily navigable landing pages that helped to highlight some of our favorite work over the years.
</p>
<img border="0" src="https://3.bp.blogspot.com/-5RP-DKocMJI/XH34I1W9gyI/AAAAAAAADeg/8aLXnx2FmJITShtoQjPvMLj0PQ46cvXDACLcBGAs/s1600/Screen%2BShot%2B2019-03-04%2Bat%2B8.14.41%2BPM.png" title=" "/>
<img border="0" src="https://3.bp.blogspot.com/-LMzxEcaM_zA/XH34I7cyObI/AAAAAAAADec/rW65up6ItlsV8XPL_iWeCylqC3nc8nQ-ACLcBGAs/s1600/Screen%2BShot%2B2019-03-04%2Bat%2B8.15.14%2BPM.png" title=" "/>
<img border="0" src="https://2.bp.blogspot.com/-VBPJ9qI3Srg/XH34I5L77xI/AAAAAAAADek/8cwgPG48df4o7smM0WTKf_PTI9TxzjtDQCLcBGAs/s1600/Screen%2BShot%2B2019-03-04%2Bat%2B8.15.47%2BPM.png" title=" "/>
<p>
    I tried making the content more highly visible, and I think it paid off. Hopefully, the website helps to add some credibility to the organizations coding expertise and brings them more volunteers and students in the future.
</p>
<p>
    * The vulnerability is that someone could figure out how to pass a boolean that says that the payment is confirmed even though it isn't. Still, part of @rtifice's ethos is that if you can figure out how to hack our systems you actuallyf deserve whatever tiny spoils you get.
</p>