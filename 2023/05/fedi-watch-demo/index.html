<!DOCTYPE html><html lang="en"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>FEDI-WATCH demo | opus.stedden</title><meta name="description" content="just your standard information identity spacetime field"><meta itemprop="name" content="will stedden"><meta itemprop="description" content="running decentralized detoxify monitoring for Mastodon"><meta itemprop="image" content="https://opus.stedden.org/assets/images/2023/fediwatch_2.png"><meta property="og:url" content="https://opus.stedden.org/2023/05/fedi-watch-demo/"><meta property="og:type" content="website"><meta property="og:title" content="FEDI-WATCH demo | opus.stedden"><meta property="og:site_name" content="opus.stedden"><meta property="og:description" content="running decentralized detoxify monitoring for Mastodon"><meta property="og:image" content="https://opus.stedden.org/assets/images/2023/fediwatch_2.png"><meta property="twitter:url" content="https://opus.stedden.org/2023/05/fedi-watch-demo/"><meta property="twitter:card" content="summary_large_image"/><meta property="twitter:title" content="FEDI-WATCH demo | opus.stedden"><meta property="twitter:site" content="opus.stedden"><meta property="twitter:description" content="running decentralized detoxify monitoring for Mastodon"><meta property="twitter:image" content="https://opus.stedden.org/assets/images/2023/fediwatch_2.png"><link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico"><link rel="stylesheet" href="/assets/css/app.min.css"><link rel="alternate" type="application/rss+xml" title="opus.stedden" href="/feed.xml"><link rel="canonical" href="/2023/05/fedi-watch-demo/"><link href="https://fonts.googleapis.com/css?family=Exo" rel="stylesheet"><link rel="webmention" href="https://webmention.io/bonkerfield.org/webmention" /><link rel="pingback" href="https://webmention.io/bonkerfield.org/xmlrpc" /> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-132451521-2"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-132451521-2'); </script><link href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css' rel='stylesheet'/></head><body id="fedi-watch-demo" class="post-layout"><header class="header"> <span><a class="header__title" href="/">opus.stedden</a></span><nav><ul class="header__list"><li><a href="/fiction">fiction</a></li><li><a href="/projects">projects</a></li><li><a href="/essays">essays</a></li><li><a href="/reasons">about</a></li><li><a href="https://will.stedden.org/">contact</a></li><li><a href="/search"><i class="fa fa-search"></i></a></li></ul></nav></header><a style="display:none;" class="p-author h-card" href="http://will.stedden.org"> <img alt="" src="/assets/images/main/face_prof.jpg"/> will stedden</a><main class="bonk"><div class="post"><article class="h-entry" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting"><div class="post__header section-padding-half"><div class="grid-small"><h2 itemprop="name headline p-name">FEDI-WATCH demo</h2><time class="post__date dt-published" datetime="2023-05-19T00:00:00-05:00" itemprop="datePublished">2023·05·19</time> <span class="post__author"> | <a class="p-name u-url" href="http://will.stedden.org" title="about">will stedden</a> </span><p class="post__description p-summary">running decentralized detoxify monitoring for Mastodon</p><a class="u-url" style="display:none;" href="https://opus.stedden.org/2023/05/fedi-watch-demo/"></a></div></div><div class="post__content section-padding"><div class="grid"><div class="e-content" id="markdown" itemprop="articleBody"><p>A few months back I worked on a very lightweight prototype for a decentralized moderation app for the fediverse. I stalled out on the project when I couldn’t find collaborators who wanted to actually volunteer for moderation, but I had built a fairly interesting set of infrastructure to work on it.</p><h1 id="the-problem">The Problem</h1><p>After the recent migration from Twitter to <a href="https://joinmastodon.org/">Mastodon</a>, with more people of color migrating to that platform there were <a href="https://www.fastcompany.com/90817452/can-mastodon-be-a-twitter-refuge-for-marginalized-groups">proven difficult</a>. Online harassment, spam and other generally harmful interactions have weren’t being dealt with properly. On the one hand, the issues on Mastodon have been described as reflecting general issues of its <a href="https://techpolicy.press/the-whiteness-of-mastodon/">inherent whiteness</a> and not necessarily a technical problem. On the other hand the specific nature of a decentralized service without a single accountable moderation team does present <a href="https://www.webpurify.com/blog/moderating-mastodon-and-the-fediverse/">unique technology challenges</a> to that community that need to be overcome hand-in-hand with the work of <a href="https://www.npr.org/2020/07/06/887646740/me-and-white-supremacy-helps-you-do-the-work-of-dismantling-racism">dismantling internalized white supremacy</a>.</p><p>The nature of Mastodon (and the <a href="https://www.lawfareblog.com/what-earth-fediverse">fediverse</a> in general) is that it is <a href="https://www.theregister.com/2023/01/01/mastodon_activitypub/">decentralized</a>, which means that it isn’t just one monolithic website but actually entails a bunch of smaller web communities all speaking a common language so that content can be shared between them. This offers benefits and downsides. One downside is that some people can join “Mastodon,” but end up on specific servers where moderation is non-existent. Because there isn’t a centralized reporting system to help those people, they can end up having a really harmful experience.</p><p>There have been <a href="https://www.fedi.watch/">other</a> <a href="https://joinfediverse.wiki/FediBlock">initiatives</a> to start tackling this problem, and I’m honestly not sure whether there needed to be another approach. But along with <a href="https://github.com/umm-maybe">umm-maybe</a>, another AI interested mastodon user, I contemplated a specific solution that could scale out moderation to more people than just the local administration of one server.</p><h2 id="citizen-moderators">Citizen Moderators</h2><p>One idea that I’ve explored in <a href="/2022/07/algorithmologists/">my writing previously</a> is that the information landscape could be moderator by a jury of impartial observers. While we’re a long way off from a well-managed citizen’s assembly for disinformation and content moderation, I thought it would be interesting to explore this subject area beyond my hypothetical fictional musings and put it into a practical application.</p><p>Specifically, I wanted to employ a user-centric approach that could allow a group of moderators to intervene and report toxic content as well as offer help moving instances or just generally supporting those who are being harassed online. While this is possible with net-citizens just focusing,</p><p>To make this form of moderation work in practice, Mastodon users sign up to allow us to perform API access on their behalf to their local server. We then employ automated scripts to scout their local timelines and replies. We then pass that content through automated filters to search for offensive posts, and create a large centralized list of aggressive and caustic comments. With that information we can then send moderators out to specific Mastodon servers help anyone who is being targeted for harassment.</p><p>It’s a different approach, and one that I hadn’t seen mentioned anywhere else. I had trouble getting any feedback, positive or negative, about the idea, but I decided I’d try to flesh out a prototype to help others think through the concept.</p><h1 id="how-it-works">How It Works</h1><p>The general architecture of the decentralized moderation is that moderators login with their credentials to their own personal servers, which then allows for open polling of their server’s community feed.</p><figure> <img alt="login screen for fediwatch" src="/assets/images/2023/fediwatch_1.png" /></figure><p>After picking up the community feed, I then poll each post for a period of time to watch if any replies are posted. From that point, all of the replies are monitored in a centralized queue and they are prioritized for review using the detoxify algorithm for detecting offensive and toxic content.</p><figure> <img alt="Fediwatch reply cue showing results of detoxify algorithm" src="/assets/images/2023/fediwatch_2.png" /></figure><p>I built all of this on Google App Engine predominantly because I already had experience with the Mastodon OAuth flow from working with my friend <a href="https://snarfed.org/">Ryan</a> on the <a href="https://brid.gy/">Bridgy</a> open source project, which made it easier to get started. The UI is rudimentary at this point and really just spits out a long list of all the results that I’m picking up, along with their results from detoxify. In a future release I could imagine sprucing up the UI somewhat, but it wasn’t as important as getting the algorithm running on the backend so I focused on that.</p><p>The most interesting part of the project was getting UnitaryAI’s <a href="https://github.com/unitaryai/detoxify">detoxify</a> up and running. I hadn’t used it before, but it was a very easy package to get in place. Under the hood, I believe it’s just a BERT classifier trained on a dataset of toxic content. The output is just a probability score for each of the following classes:</p><ul><li>toxicity</li><li>severe_toxicity</li><li>obscene</li><li>identity_attack</li><li>insult</li><li>threat</li><li>sexual_explicit</li></ul><p>You can view the <a href="https://github.com/unitaryai/detoxify">detoxify repo</a> for more information.</p><p>For ops, I originally, used App Engine’s cron feature to call an endpoint that would load and run detoxify on the most recent batch and then do cleanup on old messages. However, that turned out to be really really expensive so to reduce cost I rearchitected it with a cheap standalone Cloud Compute instance that would just continually run a script to process batches with a stored model. Even with no usage this still costs me about $0.50/month, but that isn’t too much of an issue at the moment.</p><p>As usual, all my code is <a href="https://github.com/stedn/fedi-watch">up on github</a> in case someone else finds that they’d want to use this as a starting point for their own similar project.</p></div></div></div></article></div><section class="related section-padding"><div class="grid-xlarge"><h2 class="related__title">Related</h2><div class="related__container"><article class="related__post"> <a class="related__link" href="https://opus.stedden.org/2023/05/fedi-watch-demo/"><figure class="related__img"> <img src="/assets/images/2023/fediwatch_2.png" alt="FEDI-WATCH demo" /></figure><div><h2 class="related__text">FEDI-WATCH demo</h2></div></a></article><article class="related__post"> <a class="related__link" href="https://opus.stedden.org/2022/02/google-sheet-hosted-website/"><figure class="related__img"> <img src="/assets/images/2022/google_sheet.png" alt="Building a website on Google Sheets" /></figure><div><h2 class="related__text">Building a website on Google Sheets</h2></div></a></article><article class="related__post"> <a class="related__link" href="https://opus.stedden.org/2020/12/oneth/"><figure class="related__img"> <img src="/assets/images/2020/oneth.png" alt="oneth.club: an online discussion society designed to unite rather than divide" /></figure><div><h2 class="related__text">oneth.club: an online discussion society designed to unite rather than divide</h2></div></a></article></div></div></section></main><footer class="footer section-padding"><div class="grid"><div class="subscribe" id="subscribe"><div class="subscribe__container"> <span class="subscribe__title">Subscribe</span><p class="subscribe__text">Get an update when I post new content.</p><form method="POST" action="https://bonkerfield.us4.list-manage.com/subscribe/post-json?u=68d1146ea8fe327def203f254&amp;id=e88ba623c5&amp;c=?" id="mc-signup" name="mc-embedded-subscribe-form" novalidate><div style="position: absolute; left: -5000px;" aria-hidden="true"> <input type="text" name="b_68d1146ea8fe327def203f254_e88ba623c5" tabindex="-1" value=""></div><div class="form-group"> <input id="mce-EMAIL" type="email" name="EMAIL" placeholder="Email Address"></div><div class="form__btn"> <input id="mc-submit" type="submit" value="Sign Up" name="subscribe"></div></form><p class="subscribe__error hidden"></p></div></div><hr class="sep--white"/><div class="footer__container"><ul class="footer__social"><li><a href="https://sigmoid.social/@bonkerfield" rel="me" target="_blank"><i class="fab fa-mastodon"></i></a></li><li><a href="https://www.linkedin.com/in/willstedden" rel="me" target="_blank"><i class="fab fa-linkedin"></i></a></li><li><a href="https://github.com/stedn" rel="me" target="_blank"><i class="fab fa-github"></i></a></li><li><a href="https://www.reddit.com/user/bonkerfield" rel="me" target="_blank"><i class="fab fa-reddit-alien"></i></a></li></ul><div class="posts__pagination"> <span>This site is maintained by <a href="https://will.stedden.org">Will Stedden</a>. All content on this blog is free to use under a creative commons <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a> license</span>. The thoughts behind this content may be used under the terms of Will's <a href="https://will.stedden.org/lisens">'lisens'</a>.</div></div></div></footer><script src="/assets/js/app.min.js"></script> <script> (function() { var links = document.getElementsByTagName('a'); for (var i = 0; i < links.length; i++) { if (/^(http?:)?\/\//.test(links[i].getAttribute('href'))) { links[i].target = '_blank'; } } })(); </script></body></html>
  