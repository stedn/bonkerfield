<!DOCTYPE html><html lang="en"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Building a website on Google Sheets | bonkerfield</title><meta name="description" content="just your standard information identity spacetime field"><meta itemprop="name" content="will stedden"><meta itemprop="description" content="why not?"><meta itemprop="image" content="https://bonkerfield.org/assets/images/2022/google_sheet.png"><meta property="og:url" content="https://bonkerfield.org/2022/02/google-sheet-hosted-website/"><meta property="og:type" content="website"><meta property="og:title" content="Building a website on Google Sheets | bonkerfield"><meta property="og:site_name" content="bonkerfield"><meta property="og:description" content="why not?"><meta property="og:image" content="https://bonkerfield.org/assets/images/2022/google_sheet.png"><meta property="twitter:url" content="https://bonkerfield.org/2022/02/google-sheet-hosted-website/"><meta property="twitter:card" content="summary_large_image"/><meta property="twitter:title" content="Building a website on Google Sheets | bonkerfield"><meta property="twitter:site" content="bonkerfield"><meta property="twitter:description" content="why not?"><meta property="twitter:image" content="https://bonkerfield.org/assets/images/2022/google_sheet.png"><link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico"><link rel="stylesheet" href="/assets/css/app.min.css"><link rel="alternate" type="application/rss+xml" title="bonkerfield" href="/feed.xml"><link rel="canonical" href="/2022/02/google-sheet-hosted-website/"><link href="https://fonts.googleapis.com/css?family=Exo" rel="stylesheet"><link rel="webmention" href="https://webmention.io/bonkerfield.org/webmention" /><link rel="pingback" href="https://webmention.io/bonkerfield.org/xmlrpc" /> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-132451521-2"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-132451521-2'); </script><link href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css' rel='stylesheet'/></head><body id="building-a-website-on-google-sheets" class="post-layout"><header class="header"> <span><a class="header__title" href="/">bonkerfield</a></span><nav><ul class="header__list"><li><a href="/fiction">fiction</a></li><li><a href="/projects">projects</a></li><li><a href="/essays">essays</a></li><li><a href="/reasons">about</a></li><li><a href="https://viewfoil.bonkerfield.org/">contact</a></li><li><a href="/search"><i class="fa fa-search"></i></a></li></ul></nav></header><a style="display:none;" class="p-author h-card" href="http://bonkerfield.org"> <img alt="" src="/assets/images/main/face_prof.jpg"/> will stedden</a><main class="bonk"><div class="post"><article class="h-entry" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting"><div class="post__header section-padding-half"><div class="grid-small"><h2 itemprop="name headline p-name">Building a website on Google Sheets</h2><time class="post__date dt-published" datetime="2022-02-22T00:00:00-06:00" itemprop="datePublished">2022·02·22</time> <span class="post__author"> | <a class="p-name u-url" href="http://will.stedden.org" title="about">will stedden</a> </span><p class="post__description p-summary">why not?</p><a class="u-url" style="display:none;" href="https://bonkerfield.org/2022/02/google-sheet-hosted-website/"></a></div></div><div class="post__content section-padding"><div class="grid"><div class="e-content" id="markdown" itemprop="articleBody"><p> I haven't been writing on here lately as I've been very busy he;ping to build a <a href="https://solarpunktravel.org">cooperative bicycle touring platform</a> that I'm helping to start. But I thought I would write down a quick tutorial since I've basically built the whole database to run for free on top of Google Sheets.</p><p>Now the only really good reason to do this is that (1) it is free and (2) it can be edited very easily by non-developers. And I already know that if this platform takes off there will need to be a lot of reworking to make it scalable. But for now, this is working great and I just wanted to show how it's done.</p><h4>How is that even possible?</h4><p>If you're thinking running a whole website off of Google Sheets is impossible, you'd be right. The website itself is built using Jekyll to serve a static website, which is hosted (for free of course) on Github Pages. This has become a pretty standard way to host a free website for tech savvy (and less tech savvy) people in recent years.</p><p>But the website I'm building doesn't want to just be a static site that we update by adding commits to a git repo! Our site is designed to be a place to upload routes, cycling resources, and travel logs for people to find ways to bike tour in the local area around their home. And we hope someday for people to be able to even add private resources, like property that can be used for camping and things like that.</p><p>Typically if you want people to submit their own content to a website, you will have to build your own backend database. But this means that as a developer I would need to build all the tooling for posting content to a DB. And importantly, most ways of doing this require some operating costs for storage and data transactions with the database.</p><p>So as a scrappy startup we decided we'd like to short cut all that. And based on a <a href="2020/05/timeline-streamgraph-google-sheet/">previous project</a> where I pulled some data from a Google Sheet, I thought, why not try hosting the content in an editable Google Sheet and running the whole site from there?</p><p>What could go wrong?</p><h4>It's all in the javascript</h4><p>The entirety of this relies on a few trick of javascript. Basically, all that needs to happen is for me to make the Google Sheet public so that anyone can view it. Then in the frontend of the webpage, I just run a little bit of javascript that downloads the contents of the spreadsheet, scans through it, builds the appropriate html, and adds it to the webpage.</p><pre>
    fetch("")
    .then(res => res.text())
    .then(text => {
        meta_result = JSON.parse(text.substr(47).slice(0, -2))
</pre><p>That's the magic line right there. I don't know exactly why that works, but I copied it from this <a href="https://stackoverflow.com/questions/68854198/did-google-sheets-stop-allowing-json-access">stack overflow</a> and nothing lit on fire.</p><p>At this point, I have a data structure with each row and column. I access the <i>ith</i> row and <i>jth</i> column with the following.</p><pre>meta_result.table.rows[i].c[j]</pre><p>At this point it becomes very project specific. For me, I just iterate through the rows and generate the custom HTML based on that content. You can see how it works in all it's glory detail on the <a href="https://github.com/stedn/cooptrail/blob/04f50ddb6b3dc30cfa73aad229b8e42ec9158b3b/_layouts/hub.html#L66">Github repo</a> for the site, though at the moment it is very very messy.</p><h4>So what about user input?</h4><p>So we're now displaying data from a google sheet, but we still need to manually input that data into the spreadsheet. This is great for us since we know how the sheet is set up, but it would totally not work for a random person who wants to submit material to our site.</p><p>So to get around this we used another simple hack that I've applied to <a href="https://artificechicago.org">multiple</a> <a href="https://bonkerfield.org">previous</a> <a href="https://solarpunk.blue">websites</a>, which is just making a custom form that submits to a Google Form. I've covered how this works in a previous <a href="https://bonkerfield.org/2018/12/rtifice-website-revamp/">blog post</a> so I won't rehash it here.</p><p>Now we haven't fully closed the loop by having our form submit directly to the sheet that hosts our content. We thought about it, but based on the amount of random spam that comes through your average form, we figured it'd be best to have a manual check process to copy and paste content over.</p><p>That said, I'm thinking about making a little script that copies from one spreadsheet to another. All in all, I'm really happy with the system and am looking forward to launching the project and getting more people biking in their area.</p></div></div></div><div class="section-padding--none"><div class="grid"><hr class="sep" /></div></div><div class="section-padding"><div class="grid-small"><h3 class="post__discussion">Discussion Around the <a href="https://indieweb.org/Webmention">Web</a></h3><div id="webmentions"></div><hr style="margin: 5px 0;" class="sep" /><p>Join the Conversation</p><form target="_blank" name="tweet" action="https://twitter.com/share" method="get"> <input type="hidden" name="original_referer" value="https://bonkerfield.org/2022/02/google-sheet-hosted-website/"> <input type="hidden" name="source" value="bonkerfield"> <textarea style="border-color:#aaa;" id="textar" name="text" maxlength="140"></textarea> <input type="hidden" name="url" value="https://bonkerfield.org/2022/02/google-sheet-hosted-website/"> <button class="btn btn-sm btn-social btn-tw" type="submit" id="button"> <i class="fab fa-twitter"></i> <br/>comment by tweet </button> </form><hr style="margin: 5px 0;" class="sep" /> <form target="_blank" name="tweet" action="https://www.reddit.com/submit" method="get"> <input type="hidden" name="source" value="bonkerfield"> <textarea style="border-color:#aaa;" id="textar" name="title" maxlength="140"></textarea> <button class="btn btn-sm btn-social btn-rd" type="submit" id="button"> <i class="fab fa-reddit-alien"></i> <br/>submit to reddit </button> <input type="hidden" name="url" value="https://bonkerfield.org/2022/02/google-sheet-hosted-website/"> </form> <script src="/assets/js/webmention.min.js"></script></div></div></article></div><section class="related section-padding"><div class="grid-xlarge"><h2 class="related__title">Related</h2><div class="related__container"><article class="related__post"> <a class="related__link" href="https://bonkerfield.org/2022/02/google-sheet-hosted-website/"><figure class="related__img"> <img src="/assets/images/2022/google_sheet.png" alt="Building a website on Google Sheets" /></figure><div><h2 class="related__text">Building a website on Google Sheets</h2></div></a></article><article class="related__post"> <a class="related__link" href="https://bonkerfield.org/2020/12/oneth/"><figure class="related__img"> <img src="/assets/images/2020/oneth.png" alt="oneth.club: an online discussion society designed to unite rather than divide" /></figure><div><h2 class="related__text">oneth.club: an online discussion society designed to unite rather than divide</h2></div></a></article><article class="related__post"> <a class="related__link" href="https://bonkerfield.org/2020/12/analyzing-attention/"><figure class="related__img"> <img src="/assets/images/2020/attntn.png" alt="analyzing a.ttent.io/n" /></figure><div><h2 class="related__text">analyzing a.ttent.io/n</h2></div></a></article></div></div></section></main><footer class="footer section-padding"><div class="grid"><div class="subscribe" id="subscribe"><div class="subscribe__container"> <span class="subscribe__title">Subscribe</span><p class="subscribe__text">Get an update when I post new content.</p><form method="POST" action="https://bonkerfield.us4.list-manage.com/subscribe/post-json?u=68d1146ea8fe327def203f254&amp;id=e88ba623c5&amp;c=?" id="mc-signup" name="mc-embedded-subscribe-form" novalidate><div style="position: absolute; left: -5000px;" aria-hidden="true"> <input type="text" name="b_68d1146ea8fe327def203f254_e88ba623c5" tabindex="-1" value=""></div><div class="form-group"> <input id="mce-EMAIL" type="email" name="EMAIL" placeholder="Email Address"></div><div class="form__btn"> <input id="mc-submit" type="submit" value="Sign Up" name="subscribe"></div></form><p class="subscribe__error hidden"></p></div></div><hr class="sep--white"/><div class="footer__container"><ul class="footer__social"><li><a href="https://sigmoid.social/@bonkerfield" rel="me" target="_blank"><i class="fab fa-mastodon"></i></a></li><li><a href="https://www.linkedin.com/in/willstedden" rel="me" target="_blank"><i class="fab fa-linkedin"></i></a></li><li><a href="https://github.com/stedn" rel="me" target="_blank"><i class="fab fa-github"></i></a></li><li><a href="https://www.reddit.com/user/bonkerfield" rel="me" target="_blank"><i class="fab fa-reddit-alien"></i></a></li></ul><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank"> <input type="hidden" name="cmd" value="_donations" /> <input type="hidden" name="business" value="3LHDHWRBWMGZA" /> <input type="hidden" name="item_name" value="Help Fund the Quantum Multiverse Bifurcator" /> <input type="hidden" name="currency_code" value="USD" /> <input type="submit" value="donate" name="submit" style="width:15%;min-width:70px;"> <img alt="" border="0" src="https://www.paypal.com/en_US/i/scr/pixel.gif" width="1" height="1" /> </form><div class="posts__pagination"> <span>This site is maintained by <a href="https://will.stedden.org">Will Stedden</a>. All content on this blog is free to use under a creative commons <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a> license</span>. The thoughts behind this content may be used under the terms of Will's <a href="https://will.stedden.org/lisens">'lisens'</a>.</div></div></div></footer><script src="/assets/js/app.min.js"></script> <script> (function() { var links = document.getElementsByTagName('a'); for (var i = 0; i < links.length; i++) { if (/^(http?:)?\/\//.test(links[i].getAttribute('href'))) { links[i].target = '_blank'; } } })(); </script></body></html>
  